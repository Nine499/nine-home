/* ======================================================================
 * 主题设计令牌（亮色模式 / Light Mode）
 * ----------------------------------------------------------------------
 * 说明：
 * 1) 本区通过 CSS 变量集中定义品牌色与组件状态色，避免“魔法值”散落。
 * 2) 变量命名遵循两层结构：
 *    - 业务语义层：--brand-*（品牌原子色）
 *    - 框架映射层：--vp-*（映射给 VitePress 主题变量）
 * 3) 优先定义“可复用基础色”，再映射到按钮、链接、代码块等具体场景。
 * ======================================================================*/
:root {
  /* --------------------------------------------------------------------
   * 品牌色板（Brand Palette）
   * --------------------------------------------------------------------
   * --brand-1 / 2 / 3：
   *   品牌主色梯度序列（主色 -> 中间色 -> 高亮色）
   * --brand-1-rgb / 2-rgb：
   *   供 rgb(... / alpha) 使用，方便在不同透明度场景下复用
   * ------------------------------------------------------------------ */
  --brand-1: #f97316;
  --brand-2: #fb923c;
  --brand-3: #fdba74;
  --brand-1-rgb: 249 115 22;
  --brand-2-rgb: 251 146 60;

  /* --------------------------------------------------------------------
   * 首页 Hero 区域视觉
   * --------------------------------------------------------------------
   * --vp-home-hero-name-color:
   *   标题文字本色设为透明，配合背景裁切渐变展示彩色文本
   * --vp-home-hero-name-background:
   *   标题文本渐变（120deg）形成暖色流动感
   * --vp-home-hero-image-background-image:
   *   Hero 图像背景渐变，增强品牌识别
   * --vp-home-hero-image-filter:
   *   背景模糊半径，制造光晕/柔化效果
   * ------------------------------------------------------------------ */
  --vp-home-hero-name-color: transparent;
  --vp-home-hero-name-background: linear-gradient(
    120deg,
    var(--brand-1) 25%,
    var(--brand-2) 55%,
    var(--brand-3) 100%
  );
  --vp-home-hero-image-background-image: linear-gradient(
    -45deg,
    var(--brand-1) 45%,
    var(--brand-2) 45%,
    var(--brand-3) 100%
  );
  --vp-home-hero-image-filter: blur(44px);

  /* --------------------------------------------------------------------
   * 品牌主色到 VitePress 核心变量映射（Core Brand Mapping）
   * --------------------------------------------------------------------
   * --vp-c-brand-1/2/3:
   *   VitePress 组件会引用的品牌主色层级
   * --vp-c-brand-soft:
   *   柔和背景色（如 hover 面、浅底强调块）
   * --vp-c-brand-focus:
   *   焦点环颜色（可访问性场景，如键盘导航 focus-visible）
   * ------------------------------------------------------------------ */
  --vp-c-brand-1: var(--brand-1);
  --vp-c-brand-2: var(--brand-2);
  --vp-c-brand-3: var(--brand-3);
  --vp-c-brand-soft: rgb(var(--brand-1-rgb) / 0.14);
  --vp-c-brand-focus: rgb(var(--brand-1-rgb) / 0.45);

  /* 链接颜色映射：默认链接与强调链接使用品牌色层级 */
  --vp-c-link-1: var(--vp-c-brand-1);
  --vp-c-link-2: var(--vp-c-brand-2);

  /* --------------------------------------------------------------------
   * 品牌按钮（Brand Button）
   * --------------------------------------------------------------------
   * 覆盖默认按钮的三态色：
   * - bg / border：默认状态
   * - hover-*：悬浮状态（鼠标停留）
   * - active-*：按下状态（点击反馈）
   * - text：按钮文字颜色（需保证对比度）
   * ------------------------------------------------------------------ */
  --vp-button-brand-bg: var(--vp-c-brand-1);
  --vp-button-brand-hover-bg: var(--vp-c-brand-2);
  --vp-button-brand-active-bg: #ea580c;
  --vp-button-brand-border: var(--vp-c-brand-1);
  --vp-button-brand-hover-border: var(--vp-c-brand-2);
  --vp-button-brand-active-border: #ea580c;
  --vp-button-brand-text: #fff;

  /* --------------------------------------------------------------------
   * 次级按钮（Alt Button）
   * --------------------------------------------------------------------
   * 用于弱强调操作，整体采用中性底色 + 品牌边框透明度过渡：
   * - 默认：低对比、低干扰
   * - hover：稍增强可点击感
   * - active：进一步增强按压反馈
   * ------------------------------------------------------------------ */
  --vp-button-alt-bg: #f6f6f7;
  --vp-button-alt-text: #3c3c43;
  --vp-button-alt-border: rgb(var(--brand-1-rgb) / 0.24);
  --vp-button-alt-hover-bg: #efeff1;
  --vp-button-alt-hover-text: #1f2937;
  --vp-button-alt-hover-border: rgb(var(--brand-1-rgb) / 0.38);
  --vp-button-alt-active-bg: #e7e7ea;
  --vp-button-alt-active-text: #111827;
  --vp-button-alt-active-border: rgb(234 88 12 / 0.42);

  /* --------------------------------------------------------------------
   * 代码块相关（Code Blocks）
   * --------------------------------------------------------------------
   * 包含复制按钮边框、标签栏激活条、代码内链接悬浮色、行高亮底色等。
   * 目标：让代码区域与品牌体系统一，同时不破坏可读性。
   * ------------------------------------------------------------------ */
  --vp-code-copy-code-border-color: rgb(var(--brand-1-rgb) / 0.2);
  --vp-code-copy-code-hover-border-color: rgb(var(--brand-1-rgb) / 0.38);
  --vp-code-copy-code-hover-bg: #fff7ed;
  --vp-code-tab-active-bar-color: var(--brand-1);
  --vp-code-link-hover-color: #ea580c;
  --vp-code-line-highlight-color: rgb(var(--brand-1-rgb) / 0.1);

  /* --------------------------------------------------------------------
   * 全局交互（Global Interaction）
   * --------------------------------------------------------------------
   * 文本选中背景色（::selection）统一品牌视觉
   * ------------------------------------------------------------------ */
  --selection-bg: rgb(var(--brand-1-rgb) / 0.22);
}

/* ======================================================================
 * 主题设计令牌（暗色模式 / Dark Mode）
 * ----------------------------------------------------------------------
 * 说明：
 * 1) 通过 :root.dark 覆盖亮色模式变量，实现同构主题切换。
 * 2) 暗色模式下对比度策略：
 *    - 背景更深，品牌色略收敛，避免“刺眼高饱和”
 *    - 文本与交互状态保证可读性与可感知性
 * ======================================================================*/
:root.dark {
  /* 暗色模式品牌色板：主色整体偏深，亮色用于强调与可点击元素 */
  --brand-1: #ea580c;
  --brand-2: #c2410c;
  --brand-3: #fb923c;
  --brand-1-rgb: 234 88 12;
  --brand-2-rgb: 251 146 60;

  /* 核心品牌映射：暗色场景下 soft / focus 透明度适当提升 */
  --vp-c-brand-1: var(--brand-1);
  --vp-c-brand-2: var(--brand-2);
  --vp-c-brand-3: var(--brand-3);
  --vp-c-brand-soft: rgb(var(--brand-2-rgb) / 0.2);
  --vp-c-brand-focus: rgb(var(--brand-2-rgb) / 0.5);

  /* 链接色：偏亮橙系，保证暗背景上的可读性与识别度 */
  --vp-c-link-1: #fb923c;
  --vp-c-link-2: #fdba74;

  /* 品牌按钮三态：在暗底上保持明确的交互层次 */
  --vp-button-brand-bg: #ea580c;
  --vp-button-brand-hover-bg: #f97316;
  --vp-button-brand-active-bg: #c2410c;
  --vp-button-brand-border: #ea580c;
  --vp-button-brand-hover-border: #f97316;
  --vp-button-brand-active-border: #c2410c;
  --vp-button-brand-text: #fff7ed;

  /* 次级按钮：暗灰底 + 暖色边框透明度变化，兼顾低干扰与可点击感 */
  --vp-button-alt-bg: #2a2b31;
  --vp-button-alt-text: #dfdfd6;
  --vp-button-alt-border: rgb(var(--brand-2-rgb) / 0.3);
  --vp-button-alt-hover-bg: #32343b;
  --vp-button-alt-hover-text: #fff7ed;
  --vp-button-alt-hover-border: rgb(var(--brand-2-rgb) / 0.44);
  --vp-button-alt-active-bg: #3a3d45;
  --vp-button-alt-active-text: #ffedd5;
  --vp-button-alt-active-border: rgb(var(--brand-2-rgb) / 0.5);

  /* 代码块：暗色下边框/高亮透明度提高，维持分层可见度 */
  --vp-code-copy-code-border-color: rgb(var(--brand-2-rgb) / 0.3);
  --vp-code-copy-code-hover-border-color: rgb(var(--brand-2-rgb) / 0.5);
  --vp-code-copy-code-hover-bg: #2a1f18;
  --vp-code-tab-active-bar-color: #fb923c;
  --vp-code-link-hover-color: #fdba74;
  --vp-code-line-highlight-color: rgb(var(--brand-2-rgb) / 0.14);

  /* 文本选中背景：暗色模式下略提高透明度，确保选区可感知 */
  --selection-bg: rgb(var(--brand-2-rgb) / 0.28);
}

/* ======================================================================
 * 全局 UI 状态与组件微调（Global UI States）
 * ======================================================================*/

/* 文本选中态：统一使用主题变量，保证亮/暗模式自动适配 */
::selection {
  background: var(--selection-bg);
}

/* 键盘可访问性焦点样式（仅在 :focus-visible 时出现，减少视觉噪音） */
:focus-visible {
  outline: 2px solid var(--vp-c-brand-focus);
  outline-offset: 2px;
}

/* Hero 区图片微调：
 * - padding：给图像留出呼吸空间，避免贴边
 * - drop-shadow：增强前景层次与立体感（暖色阴影与品牌色协调）
 */
.VPHero .VPImage {
  padding: 18px;
  filter: drop-shadow(-2px 4px 10px rgb(124 45 18 / 0.26));
}
